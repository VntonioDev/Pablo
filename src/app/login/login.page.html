<ion-header>
  <div class="logo-container">
    <img src="assets/imagenes/IconoHydro.png" alt="IconoHydro" class="logo-image-left">
    <h1>HydroGuard</h1>
    <img src="assets/imagenes/IconoHydro.png" alt="IconoHydro" class="logo-image-right" style="transform: scaleX(-1);">
  </div>
</ion-header>

<ion-content class="login-content">
  <div class="mensaje-container" *ngIf="mensaje">
    <ion-text color="success">{{ mensaje }}</ion-text>
  </div>
  <div class="login-container">
    <h1>Iniciar Sesión</h1>

    <ion-item class="input-item">
      <ion-input 
        type="email" 
        placeholder="Ingrese Correo" 
        [(ngModel)]="email" 
        (keydown.enter)="login()">
      </ion-input>
    </ion-item>

    <ion-item class="input-item">
      <ion-input 
        [type]="showPassword ? 'text' : 'password'" 
        placeholder="Ingrese Contraseña"
        [(ngModel)]="password" 
        (keydown.enter)="login()">
      </ion-input>
      <ion-button fill="clear" slot="end" (click)="togglePasswordVisibility()">
        <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
      </ion-button>
    </ion-item>

    <div class="forgot-password">
      <a [routerLink]="['/password']">¿Olvidaste tu contraseña?</a>
    </div>

    <!-- Botón de inicio de sesión -->
    <ion-button expand="full" class="login-button" (click)="login()">
      Iniciar Sesión
    </ion-button>

    <!-- Mostrar la animación de carga cuando esté cargando -->
    <div *ngIf="isLoading" class="loading-container">
      <p>Iniciando Sesión...</p>
      <ion-spinner name="crescent"></ion-spinner>
    </div>

    <div class="register-link">
      <span>¿No tienes cuenta?</span>
      <a routerLink="/registrarse"> Regístrate</a>
    </div>

    <div class="terms">
      <p>Al iniciar sesión, aceptas nuestros <a href="#">Términos y Condiciones</a></p>
    </div>
  </div>
</ion-content>
